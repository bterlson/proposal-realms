{"version":3,"file":"realm-shim.js","sources":["../src/commons.js","../src/accessors.js","../src/sanitize.js","../src/proxy.js","../src/evaluate.js","../src/evaluators.js","../src/sandbox.js","../src/intrinsics.js","../src/stdlib.js","../src/utils.js","../src/realm.js"],"sourcesContent":["// Declare shorthand functions. Sharing these declarations accross modules\n// improves both consitency and minification. Unused declarations are dropped\n// by the tree shaking process.\n\nexport const {\n  assign,\n  create,\n  defineProperties,\n  freeze,\n  getOwnPropertyDescriptors,\n  getOwnPropertyNames\n} = Object;\n\nexport const {\n  apply,\n  defineProperty,\n  deleteProperty,\n  getOwnPropertyDescriptor,\n  getPrototypeOf,\n  ownKeys,\n  setPrototypeOf\n} = Reflect;\n\n\n","// Adapted from SES/Caja - Copyright (C) 2011 Google Inc.\n// https://github.com/google/caja/blob/master/src/com/google/caja/ses/startSES.js\n// https://github.com/google/caja/blob/master/src/com/google/caja/ses/repairES5.js\n\nimport { getPrototypeOf, defineProperty, getOwnPropertyDescriptor } from './commons';\n\n// Fix legacy accessors to comply with strict mode and ES2016 semantics,\n// we need to redefine them while in strict mode.\n// https://tc39.github.io/ecma262/#sec-object.prototype.__defineGetter__\n\nexport function repairAccessors(objProto) {\n\n    try {\n\n        defineProperty(objProto, '__defineGetter__', {\n            value: function (prop, func) {\n                return defineProperty(this, prop, {\n                    get: func,\n                    enumerable: true,\n                    configurable: true\n                });\n            }\n        });\n\n        defineProperty(objProto, '__defineSetter__', {\n            value: function (prop, func) {\n                return defineProperty(this, prop, {\n                    set: func,\n                    enumerable: true,\n                    configurable: true\n                });\n            }\n        });\n\n        defineProperty(objProto, '__lookupGetter__', {\n            value: function (prop) {\n                let base = this;\n                let desc;\n                while (base && !(desc = getOwnPropertyDescriptor(base, prop))) {\n                    base = getPrototypeOf(base);\n                }\n                return desc && desc.get;\n            }\n        });\n\n        defineProperty(objProto, '__lookupSetter__', {\n            value: function (prop) {\n                let base = this;\n                let desc;\n                while (base && !(desc = getOwnPropertyDescriptor(base, prop))) {\n                    base = getPrototypeOf(base);\n                }\n                return desc && desc.set;\n            }\n        });\n\n    } catch (ignore) {\n        // Ignored\n    }\n}","import { repairAccessors } from \"./accessors\";\n\n// locking down the environment\nexport function sanitize(sandbox) {\n\n    const { confinedWindow: { Object: { prototype: objProto } } } = sandbox;\n\n    repairAccessors(objProto);\n    // TODO: other steps\n}","import { defineProperty, deleteProperty, getOwnPropertyDescriptor, getOwnPropertyNames } from './commons';\n\n// this flag allow us to determine if the eval() call is a controlled eval done by the realm's code\n// or if it is user-land invocation, so we can react differently.\nlet isInternalEvaluation = false;\n\nexport function setInternalEvaluation() {\n    isInternalEvaluation = true;\n}\n\nexport function resetInternalEvaluation() {\n    isInternalEvaluation = false;\n}\n\nexport const proxyHandler = {\n    get(sandbox, propName) {\n        if (propName === 'eval' && isInternalEvaluation) {\n            resetInternalEvaluation();\n            return sandbox.confinedWindow.eval;\n        }\n        return sandbox.globalObject[propName];\n    },\n    set(sandbox, propName, newValue) {\n        sandbox.globalObject[propName] = newValue;\n        return true;\n    },\n    defineProperty(sandbox, propName, descriptor) {\n        defineProperty(sandbox.globalObject, propName, descriptor);\n        return true;\n    },\n    deleteProperty(sandbox, propName) {\n        return deleteProperty(sandbox.globalObject, propName);\n    },\n    has(sandbox, propName) {\n        if (propName === 'eval' && isInternalEvaluation) {\n            return true;\n        }\n        if (propName in sandbox.globalObject) {\n            return true;\n        } else if (propName in sandbox.confinedWindow) {\n            throw new ReferenceError(`${propName} is not defined. If you are using typeof ${propName}, you can change your program to use typeof global.${propName} instead`);\n        }\n        return false;\n    },\n    ownKeys(sandbox) {\n        return getOwnPropertyNames(sandbox.globalObject);\n    },\n    getOwnPropertyDescriptor(sandbox, propName) {\n        return getOwnPropertyDescriptor(sandbox.globalObject, propName);\n    },\n    isExtensible(sandbox) {\n        // TODO: can it becomes non-extensible?\n        return true;\n    },\n    getPrototypeOf(sandbox) {\n        return null;\n    },\n    setPrototypeOf(sandbox, prototype) {\n        return prototype === null ? true : false;\n    },\n};","import {\n    setInternalEvaluation,\n    resetInternalEvaluation,\n} from \"./proxy\";\n\nconst HookFnName = '$RealmEvaluatorIIFE$';\n\n// Wrapping the source with `with` statement creates a new lexical scope,\n// that can prevent access to the globals in the sandbox by shadowing them\n// via globalProxy.\nfunction addLexicalScopesToSource(sourceText) {\n    /**\n     * We use a `with` statement who uses `argments[0]`, which is the\n     * `sandbox.globalProxy` that implements the shadowing mechanism as well as access to\n     * any global variable.\n     * Aside from that, the `this` value in sourceText will correspond to `sandbox.thisValue`.\n     * We have to use `arguments` instead of naming them to avoid name collision.\n     */\n    // escaping backsticks to prevent leaking the original eval as well as syntax errors\n    sourceText = sourceText.replace(/\\`/g, '\\\\`');\n    return `\n        function ${HookFnName}() {\n            with(arguments[0]) {\n                return (function(){\n                    \"use strict\";\n                    return eval(\\`${sourceText}\\`);\n                }).call(this);\n            }\n        }\n    `;\n}\n\nfunction evalAndReturn(sourceText, sandbox) {\n    const { iframeDocument, confinedWindow } = sandbox;\n    const { body: iframeBody } = iframeDocument;\n    const script = iframeDocument.createElement('script');\n    script.type = 'text/javascript';\n    confinedWindow[HookFnName] = undefined;\n    script.appendChild(iframeDocument.createTextNode(sourceText));\n    iframeBody.appendChild(script);\n    iframeBody.removeChild(script);\n    const result = confinedWindow[HookFnName];\n    confinedWindow[HookFnName] = undefined;\n    return result;\n}\n\nexport function evaluate(sourceText, sandbox) {\n    if (!sourceText) {\n        return undefined;\n    }\n    sourceText = addLexicalScopesToSource(sourceText + '');\n    setInternalEvaluation();\n    const fn = evalAndReturn(sourceText, sandbox);\n    const result = fn.apply(sandbox.thisValue, [sandbox.globalProxy]);\n    resetInternalEvaluation();\n    return result;\n}","import { evaluate } from \"./evaluate\";\nimport { setPrototypeOf } from \"./commons\";\n\nfunction getEvalEvaluator(sandbox) {\n    const o = {\n        // trick to set the name of the function to \"eval\"\n        eval: function(sourceText) {\n            // console.log(`Shim-Evaluation: \"${sourceText}\"`);\n            return evaluate(sourceText, sandbox);\n        }\n    };\n    setPrototypeOf(o.eval, sandbox.Function);\n    o.eval.toString = () => 'function eval() { [shim code] }';\n    return o.eval;\n}\n\nfunction getFunctionEvaluator(sandbox) {\n    const { confinedWindow } = sandbox;\n    const f = function Function(...args) {\n        // console.log(`Shim-Evaluation: Function(\"${args.join('\", \"')}\")`);\n        const sourceText = args.pop();\n        const fnArgs = args.join(', ');\n        return evaluate(`(function anonymous(${fnArgs}){\\n${sourceText}\\n}).bind(this)`, sandbox);\n    }\n    f.prototype = confinedWindow.Function.prototype;\n    setPrototypeOf(f, f.prototype);\n    f.prototype.constructor = f;\n    f.toString = () => 'function Function() { [shim code] }';\n    return f;\n}\n\nexport function getEvaluators(sandbox) {\n    sandbox.Function = getFunctionEvaluator(sandbox);\n    sandbox.eval = getEvalEvaluator(sandbox);\n}","import { sanitize } from \"./sanitize\";\nimport { getEvaluators } from \"./evaluators\";\nimport { proxyHandler } from \"./proxy\";\nimport { assign } from \"./commons\";\n\nfunction createIframe() {\n    const el = document.createElement(\"iframe\");\n    el.style.display = \"none\";\n    // accessibility\n    el.title = \"script\";\n    el.setAttribute('aria-hidden', true);\n    document.body.appendChild(el);\n    return el;\n}\n\nexport function createSandbox() {\n    const iframe = createIframe();\n    const { contentDocument: iframeDocument, contentWindow: confinedWindow } = iframe;\n    const sandbox = {\n        iframe,\n        iframeDocument,\n        confinedWindow,\n        thisValue: undefined,\n        globalObject: undefined,\n        globalProxy: undefined,\n    };\n    sanitize(sandbox);\n    assign(sandbox, getEvaluators(sandbox));\n    sandbox.globalProxy = new Proxy(sandbox, proxyHandler);\n    return sandbox;\n}\n\nexport function setSandboxGlobalObject(sandbox, globalObject, thisValue) {\n    sandbox.thisValue = thisValue;\n    sandbox.globalObject = globalObject;\n}","import Realm from \"./realm\";\nimport { getPrototypeOf } from \"./commons\";\n\n/**\n * Get the intrinsics from Table 7 & Annex B\n * https://tc39.github.io/ecma262/#table-7\n * https://tc39.github.io/ecma262/#table-73\n */\nexport function getIntrinsics(sandbox) {\n    const { confinedWindow: global } = sandbox;\n\n    // Anonymous intrinsics.\n\n    const SymbolIterator = (typeof global.Symbol && global.Symbol.iterator) || \"@@iterator\";\n\n    const ArrayIteratorObject = new global.Array()[SymbolIterator]();\n    const ArrayIteratorPrototype = getPrototypeOf(ArrayIteratorObject);\n    const IteratorPrototype = getPrototypeOf(ArrayIteratorPrototype);\n\n    const AsyncFunctionObject = global.eval(\"(async function(){})\");\n    const AsyncFunction = AsyncFunctionObject.constructor;\n    const AsyncFunctionPrototype = AsyncFunction.prototype;\n\n    const GeneratorFunctionObject = global.eval(\"(function*(){})\");\n    const GeneratorFunction = GeneratorFunctionObject.constructor;\n    const Generator = GeneratorFunction.prototype;\n    const GeneratorPrototype = Generator.prototype;\n\n    const AsyncGeneratorFunctionObject = global.eval('(async function*(){})');\n    const AsyncGeneratorFunction = AsyncGeneratorFunctionObject.constructor;\n    const AsyncGenerator = AsyncGeneratorFunction.prototype;\n    const AsyncGeneratorPrototype = AsyncGenerator.prototype;\n\n    const AsyncFromSyncIteratorPrototype = undefined; // TODO\n    const AsyncIteratorPrototype = getPrototypeOf(AsyncGeneratorPrototype);\n\n    const MapIteratorObject = new global.Map()[SymbolIterator]();\n    const MapIteratorPrototype = getPrototypeOf(MapIteratorObject);\n\n    const SetIteratorObject = new global.Set()[SymbolIterator]();\n    const SetIteratorPrototype = getPrototypeOf(SetIteratorObject);\n\n    const StringIteratorObject = new global.String()[SymbolIterator]();\n    const StringIteratorPrototype = getPrototypeOf(StringIteratorObject);\n\n    const ThrowTypeError = global.eval(\n        '(function () { \"use strict\"; return Object.getOwnPropertyDescriptor(arguments, \"callee\").get; })()'\n    );\n\n    const TypedArray = getPrototypeOf(Int8Array);\n    const TypedArrayPrototype = TypedArray.prototype;\n\n    // Named intrinsics\n\n    return {\n        // *** Table 7\n\n        // %Array%\n        Array: global.Array,\n        // %ArrayBuffer%\n        ArrayBuffer: global.ArrayBuffer,\n        // %ArrayBufferPrototype%\n        ArrayBufferPrototype: global.ArrayBuffer.prototype,\n        // %ArrayIteratorPrototype%\n        ArrayIteratorPrototype,\n        // %ArrayPrototype%\n        ArrayPrototype: global.Array.prototype,\n        // %ArrayProto_entries%\n        ArrayProto_entries: global.Array.prototype.entries,\n        // %ArrayProto_foreach%\n        ArrayProto_foreach: global.Array.prototype.forEach,\n        // %ArrayProto_keys%\n        ArrayProto_keys: global.Array.prototype.forEach,\n        // %ArrayProto_values%\n        ArrayProto_values: global.Array.prototype.values,\n        // %AsyncFromSyncIteratorPrototype%\n        AsyncFromSyncIteratorPrototype,\n        // %AsyncFunction%\n        AsyncFunction,\n        // %AsyncFunctionPrototype%\n        AsyncFunctionPrototype,\n        // %AsyncGenerator%\n        AsyncGenerator,\n        // %AsyncGeneratorFunction%\n        AsyncGeneratorFunction,\n        // %AsyncGeneratorPrototype%\n        AsyncGeneratorPrototype,\n        // %AsyncIteratorPrototype%\n        AsyncIteratorPrototype,\n        // %Atomics%\n        Atomics: global.Atomics,\n        // %Boolean%\n        Boolean: global.Boolean,\n        // %BooleanPrototype%\n        BooleanPrototype: global.Boolean.prototype,\n        // %DataView%\n        DataView: global.DataView,\n        // %DataViewPrototype%\n        DataViewPrototype: global.DataView.prototype,\n        // %Date%\n        Date: global.Date,\n        // %DatePrototype%\n        DatePrototype: global.Date.prototype,\n        // %decodeURI%\n        decodeURI: global.decodeURI,\n        // %decodeURIComponent%\n        decodeURIComponent: global.decodeURIComponent,\n        // %encodeURI%\n        encodeURI: global.encodeURI,\n        // %encodeURIComponent%\n        encodeURIComponent: global.encodeURIComponent,\n        // %Error%\n        Error: global.Error,\n        // %ErrorPrototype%\n        ErrorPrototype: global.Error.prototype,\n        // %eval%\n        eval: sandbox.eval,\n        // %EvalError%\n        EvalError: global.EvalError,\n        // %EvalErrorPrototype%\n        EvalErrorPrototype: global.EvalError.prototype,\n        // %Float32Array%\n        Float32Array: global.Float32Array,\n        // %Float32ArrayPrototype%\n        Float32ArrayPrototype: global.Float32Array.prototype,\n        // %Float64Array%\n        Float64Array: global.Float64Array,\n        // %Float64ArrayPrototype%\n        Float64ArrayPrototype: global.Float64Array.prototype,\n        // %Function%\n        Function: sandbox.Function,\n        // %FunctionPrototype%\n        FunctionPrototype: sandbox.Function.prototype,\n        // %Generator%\n        Generator,\n        // %GeneratorFunction%\n        GeneratorFunction,\n        // %GeneratorPrototype%\n        GeneratorPrototype,\n        // %Int8Array%\n        Int8Array: global.Int8Array,\n        // %Int8ArrayPrototype%\n        Int8ArrayPrototype: global.Int8Array.prototype,\n        // %Int16Array%\n        Int16Array: global.Int16Array,\n        // %Int16ArrayPrototype%,\n        Int16ArrayPrototype: global.Int16Array.prototype,\n        // %Int32Array%\n        Int32Array: global.Int32Array,\n        // %Int32ArrayPrototype%\n        Int32ArrayPrototype: global.Int32Array.prototype,\n        // %isFinite%\n        isFinite: global.isFinite,\n        // %isNaN%\n        isNaN: global.isNaN,\n        // %IteratorPrototype%\n        IteratorPrototype,\n        // %JSON%\n        JSON: global.JSON,\n        // %JSONParse%\n        JSONParse: global.JSON.parse,\n        // %Map%\n        Map: global.Map,\n        // %MapIteratorPrototype%\n        MapIteratorPrototype,\n        // %MapPrototype%\n        MapPrototype: global.Map.prototype,\n        // %Math%\n        Math: global.Math,\n        // %Number%\n        Number: global.Number,\n        // %NumberPrototype%\n        NumberPrototype: global.Number.prototype,\n        // %Object%\n        Object: global.Object,\n        // %ObjectPrototype%\n        ObjectPrototype: global.Object.prototype,\n        // %ObjProto_toString%\n        ObjProto_toString: global.Object.prototype.toString,\n        // %ObjProto_valueOf%\n        ObjProto_valueOf: global.Object.prototype.valueOf,\n        // %parseFloat%\n        parseFloat: global.parseFloat,\n        // %parseInt%\n        parseInt: global.parseInt,\n        // %Promise%\n        Promise: global.Promise,\n        // %Promise_all%\n        Promise_all: global.Promise.all,\n        // %Promise_reject%\n        Promise_reject: global.Promise.reject,\n        // %Promise_resolve%\n        Promise_resolve: global.Promise.resolve,\n        // %PromiseProto_then%\n        PromiseProto_then: global.Promise.prototype.then,\n        // %PromisePrototype%\n        PromisePrototype: global.Promise.prototype,\n        // %Proxy%\n        Proxy: global.Proxy,\n        // %RangeError%\n        RangeError: global.RangeError,\n        // %RangeErrorPrototype%\n        RangeErrorPrototype: global.RangeError.prototype,\n        // %ReferenceError%\n        ReferenceError: global.ReferenceError,\n        // %ReferenceErrorPrototype%\n        ReferenceErrorPrototype: global.ReferenceError.prototype,\n        // %Reflect%\n        Reflect: global.Reflect,\n        // %RegExp%\n        RegExp: global.RegExp,\n        // %RegExpPrototype%\n        RegExpPrototype: global.RegExp.prototype,\n        // %Set%\n        Set: global.Set,\n        // %SetIteratorPrototype%\n        SetIteratorPrototype,\n        // %SetPrototype%\n        SetPrototype: global.Set.prototype,\n        // %SharedArrayBuffer%\n        // SharedArrayBuffer: undefined, // Deprecated on Jan 5, 2018\n        // %SharedArrayBufferPrototype%\n        // SharedArrayBufferPrototype: undefined, // Deprecated on Jan 5, 2018\n        // %String%\n        String: global.String,\n        // %StringIteratorPrototype%\n        StringIteratorPrototype,\n        // %StringPrototype%\n        StringPrototype: global.String.prototype,\n        // %Symbol%\n        Symbol: global.Symbol,\n        // %SymbolPrototype%\n        SymbolPrototype: global.Symbol.prototype,\n        // %SyntaxError%\n        SyntaxError: global.SyntaxError,\n        // %SyntaxErrorPrototype%\n        SyntaxErrorPrototype: global.SyntaxError.prototype,\n        // %ThrowTypeError%\n        ThrowTypeError,\n        // %TypedArray%\n        TypedArray,\n        // %TypedArrayPrototype%\n        TypedArrayPrototype,\n        // %TypeError%\n        TypeError: global.TypeError,\n        // %TypeErrorPrototype%\n        TypeErrorPrototype: global.TypeError.prototype,\n        // %Uint8Array%\n        Uint8Array: global.Uint8Array,\n        // %Uint8ArrayPrototype%\n        Uint8ArrayPrototype: global.Uint8Array.prototype,\n        // %Uint8ClampedArray%\n        Uint8ClampedArray: global.Uint8ClampedArray,\n        // %Uint8ClampedArrayPrototype%\n        Uint8ClampedArrayPrototype: global.Uint8ClampedArray.prototype,\n        // %Uint16Array%\n        Uint16Array: global.Uint16Array,\n        // %Uint16ArrayPrototype%\n        Uint16ArrayPrototype: Uint16Array.prototype,\n        // %Uint32Array%\n        Uint32Array: global.Uint32Array,\n        // %Uint32ArrayPrototype%\n        Uint32ArrayPrototype: global.Uint32Array.prototype,\n        // %URIError%\n        URIError: global.URIError,\n        // %URIErrorPrototype%\n        URIErrorPrototype: global.URIError.prototype,\n        // %WeakMap%\n        WeakMap: global.WeakMap,\n        // %WeakMapPrototype%\n        WeakMapPrototype: global.WeakMap.prototype,\n        // %WeakSet%\n        WeakSet: global.WeakSet,\n        // %WeakSetPrototype%\n        WeakSetPrototype: global.WeakSet.prototype,\n\n        // *** Annex B\n\n        // %escape%\n        escape: global.escape,\n        // %unescape%\n        unescape: global.unescape,\n\n        // TODOther special cases\n\n        // *** ESNext\n        Realm // intentionally passing around the Realm Constructor, which could be used as a side channel, but still!\n    };\n}\n","import { getIntrinsics } from \"./intrinsics\";\n\nexport function getStdLib(sandbox) {\n    const intrinsics = getIntrinsics(sandbox);\n\n    return {\n        // *** 18.1 Value Properties of the Global Object\n\n        Infinity: { value: Infinity },\n        NaN: { value: NaN },\n        undefined: { value: undefined },\n\n        // *** 18.2 Function Properties of the Global Object\n\n        eval: { value: intrinsics.eval },\n        isFinite: { value: intrinsics.isFinite },\n        isNaN: { value: intrinsics.isNaN },\n        parseFloat: { value: intrinsics.parseFloat },\n        parseInt: { value: intrinsics.parseInt },\n\n        decodeURI: { value: intrinsics.decodeURI },\n        decodeURIComponent: { value: intrinsics.decodeURIComponent },\n        encodeURI: { value: intrinsics.encodeURI },\n        encodeURIComponent: { value: intrinsics.encodeURIComponent },\n\n        // *** 18.3 Constructor Properties of the Global Object\n\n        Array: { value: intrinsics.Array },\n        ArrayBuffer: { value: intrinsics.ArrayBuffer },\n        Boolean: { value: intrinsics.Boolean },\n        DataView: { value: intrinsics.DataView },\n        Date: { value: intrinsics.Date },\n        Error: { value: intrinsics.Error },\n        EvalError: { value: intrinsics.EvalError },\n        Float32Array: { value: intrinsics.Float32Array },\n        Float64Array: { value: intrinsics.Float64Array },\n        Function: { value: intrinsics.Function },\n        Int8Array: { value: intrinsics.Int8Array },\n        Int16Array: { value: intrinsics.Int16Array },\n        Int32Array: { value: intrinsics.Int32Array },\n        Map: { value: intrinsics.Map },\n        Number: { value: intrinsics.Number },\n        Object: { value: intrinsics.Object },\n        Promise: { value: intrinsics.Promise },\n        Proxy: { value: intrinsics.Proxy },\n        RangeError: { value: intrinsics.RangeError },\n        ReferenceError: { value: intrinsics.ReferenceError },\n        RegExp: { value: intrinsics.RegExp },\n        Set: { value: intrinsics.Set },\n        // Deprecated\n        // SharedArrayBuffer: intrinsics.SharedArrayBuffer,\n        String: { value: intrinsics.String },\n        Symbol: { value: intrinsics.Symbol },\n        SyntaxError: { value: intrinsics.SyntaxError },\n        TypeError: { value: intrinsics.TypeError },\n        Uint8Array: { value: intrinsics.Uint8Array },\n        Uint8ClampedArray: { value: intrinsics.Uint8ClampedArray },\n        Uint16Array: { value: intrinsics.Uint16Array },\n        Uint32Array: { value: intrinsics.Uint32Array },\n        URIError: { value: intrinsics.URIError },\n        WeakMap: { value: intrinsics.WeakMap },\n        WeakSet: { value: intrinsics.WeakSet },\n\n        // *** 18.4 Other Properties of the Global Object\n\n        Atomics: { value: intrinsics.Atomics },\n        JSON: { value: intrinsics.JSON },\n        Math: { value: intrinsics.Math },\n        Reflect: { value: intrinsics.Reflect },\n\n        // *** Annex B\n\n        escape: { value: intrinsics.escape },\n        unescape: { value: intrinsics.unescape }\n    };\n}\n","export function assert(condition) {\n    if (!condition) {\n        throw new Error();\n    }\n}\n\nexport function IsCallable(obj) {\n    return typeof obj === 'function';\n}","import { createSandbox, setSandboxGlobalObject } from \"./sandbox\";\nimport { evaluate } from \"./evaluate\";\nimport { getStdLib } from \"./stdlib\";\nimport { getIntrinsics } from \"./intrinsics\";\nimport { assert, IsCallable } from \"./utils\";\nimport { defineProperties, create } from \"./commons\";\n\nconst RealmRecord = Symbol('Realm Slot');\nconst Intrinsics = Symbol('Intrinsics Slot');\nconst GlobalObject = Symbol('GlobalObject Slot');\nconst GlobalThisValue = Symbol('GlobalThisValue Slot');\nconst GlobalEnv = Symbol('GlobalEnv Slot');\nconst EvalHook = Symbol('EvalHook Slot');\nconst IsDirectEvalHook = Symbol('IsDirectEvalHook Slot');\nconst ImportHook = Symbol('ImportHook Slot');\nconst ImportMetaHook = Symbol('ImportMetaHook Slot');\nconst ShimSandbox = Symbol('Sandbox');\n\n// shim specific\nfunction getSandbox(realmRec) {\n    const sandbox = realmRec[ShimSandbox];\n    assert(typeof sandbox === 'object');\n    return sandbox;\n}\n\nfunction getCurrentRealmRecord() {\n    let realmRec = window[RealmRecord];\n    if (!realmRec) {\n        // this is an outer realm, and we should set up the RealmRecord\n        window[RealmRecord] = {\n            // TODO: mimic what the global realm record should have\n            // including default hooks, etc.\n        };\n    }\n    return realmRec;\n}\n\n// <!-- es6num=\"8.1.2.5\" -->\nfunction NewGlobalEnvironment(G, thisValue) {\n    // diverging from spec to accomodate the iframe as the lexical environment\n    // using a class for better debugability\n    class EnvironmentRecord {\n        constructor(/*globalObject*/) {\n            this[GlobalThisValue] = thisValue;\n        }\n    }\n    return new EnvironmentRecord(G);\n}\n\n// <!-- es6num=\"8.2.3\" -->\nfunction SetRealmGlobalObject(realmRec, globalObj, thisValue) {\n    if (globalObj === undefined) {\n        const intrinsics = realmRec[Intrinsics];\n        globalObj = create(intrinsics['ObjectPrototype']);\n    }\n    assert(typeof globalObj === 'object');\n    if (thisValue === undefined) thisValue = globalObj;\n    realmRec[GlobalObject] = globalObj;\n    const newGlobalEnv = NewGlobalEnvironment(globalObj, thisValue);\n    realmRec[GlobalEnv] = newGlobalEnv;\n    return realmRec;\n}\n\n// <!-- es6num=\"8.2.4\" -->\nfunction SetDefaultGlobalBindings(realmRec) {\n    const global = realmRec[GlobalObject];\n    // For each property of the Global Object specified in clause <emu-xref href=\"#sec-global-object\"></emu-xref>, do\n    // ---> diverging:\n    const GlobalObjectDescriptors = getStdLib(realmRec[ShimSandbox]);\n    defineProperties(global, GlobalObjectDescriptors);\n    return global;\n}\n\n// <!-- es6num=\"8.2.2\" -->\nfunction CreateIntrinsics(realmRec) {\n    // ---> diverging\n    let intrinsics = getIntrinsics(realmRec[ShimSandbox]);\n    realmRec[Intrinsics] = intrinsics;\n    return intrinsics;\n}\n\nfunction CreateRealmRec(intrinsics) {\n    let realmRec = /* new Realm Record from table-21 */ {\n        [Intrinsics]: {},\n        [GlobalObject]: undefined,\n        [GlobalEnv]: undefined,\n        // [TemplateMap]: [],\n        // [HostDefined]: undefined,\n        [EvalHook]: undefined,\n        [IsDirectEvalHook]: undefined,\n        [ImportHook]: undefined,\n        [ImportMetaHook]: undefined,\n        // ---> diverging to create the internal shim iframe\n        [ShimSandbox]: createSandbox(),\n    };\n    if (intrinsics === undefined) {\n        CreateIntrinsics(realmRec);\n    } else {\n        // 1. Assert: In this case, _intrinsics_ must be a Record with field names listed in column one of Table 7.\n        realmRec[Intrinsics] = intrinsics;\n    }\n    return realmRec;\n}\n\nfunction InvokeDirectEvalHook(realmRec, x) {\n    // 1. Assert: realm is a Realm Record.\n    const fn = realmRec[EvalHook];\n    if (fn === undefined) return x;\n    assert(IsCallable(fn) === true);\n    return fn.call(undefined, x);\n}\n\n// <!-- es6num=\"18.2.1.1\" -->\nfunction PerformEval(x, evalRealm, strictCaller, direct) {\n    assert(direct === false ? strictCaller === false : true);\n    // realm spec segment begins\n    if (direct === true) {\n        x = InvokeDirectEvalHook(x, evalRealm);\n    }\n    // realm spec segment ends\n    if (typeof x !== 'string') return x;\n    // ---> diverging\n    const sandbox = getSandbox(evalRealm);\n    return evaluate(x, sandbox);\n}\n\nexport default class Realm {\n\n    constructor(options) {\n        const O = this;\n        const parentRealm = getCurrentRealmRecord();\n        const opts = Object(options);\n        let importHook = opts.importHook;\n        if (importHook === \"inherit\") {\n            importHook = parentRealm[ImportHook];\n        } else if (importHook !== undefined && IsCallable(importHook) === false) throw new TypeError();\n        let importMetaHook  = opts.importMetaHook;\n        if (importMetaHook === \"inherit\") {\n            importMetaHook = parentRealm[ImportMetaHook];\n        } else if (importMetaHook !== undefined && IsCallable(importMetaHook) === false) throw new TypeError();\n        let evalHook = opts.evalHook;\n        if (evalHook === \"inherit\") {\n            evalHook = parentRealm[EvalHook];\n        } else if (evalHook !== undefined && IsCallable(evalHook) === false) throw new TypeError();\n        let isDirectEvalHook = opts.isDirectEvalHook;\n        if (isDirectEvalHook === \"inherit\") {\n            isDirectEvalHook = parentRealm[IsDirectEvalHook];\n        } else if (isDirectEvalHook !== undefined && IsCallable(isDirectEvalHook) === false) throw new TypeError();\n        let intrinsics = opts.intrinsics;\n        if (intrinsics === \"inherit\") {\n            intrinsics = parentRealm[Intrinsics];\n        } else if (intrinsics !== undefined) throw new TypeError();\n        let thisValue = opts.thisValue;\n        if (thisValue !== undefined && typeof thisValue !== \"object\") throw new TypeError();\n        const realmRec = CreateRealmRec(intrinsics);\n        O[RealmRecord] = realmRec;\n        SetRealmGlobalObject(realmRec, undefined, thisValue);\n        if (importHook === undefined) {\n            // new built-in function object as defined in <emu-xref href=\"#sec-realm-default-import-hook-functions\"></emu-xref>\n            importHook = function (/*referrer, specifier*/) {\n                throw new TypeError();\n            }\n        }\n        realmRec[ImportHook] = importHook;\n        if (evalHook !== undefined) {\n            realmRec[EvalHook] = evalHook;\n        }\n        if (isDirectEvalHook !== undefined) {\n            realmRec[IsDirectEvalHook] = isDirectEvalHook;\n        }\n        let init = O.init;\n        if (!IsCallable(init)) throw new TypeError();\n        init.call(O);\n        // ---> diverging\n        setSandboxGlobalObject(realmRec[ShimSandbox], realmRec[GlobalObject], realmRec[GlobalEnv][GlobalThisValue]);\n    }\n\n    init() {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        SetDefaultGlobalBindings(O[RealmRecord]);\n    }\n\n    eval(x) {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        let evalRealm = O[RealmRecord];\n        // HostEnsureCanCompileStrings(the current Realm Record, _evalRealm_).\n        return PerformEval(x, evalRealm, false, false);\n    }\n\n    get stdlib() {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        // TODO: align with spec\n        const sandbox = getSandbox(O[RealmRecord]);\n        return getStdLib(sandbox);\n    }\n\n    get intrinsics() {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        // TODO: align with spec\n        const sandbox = getSandbox(O[RealmRecord]);\n        return getIntrinsics(sandbox.confinedWindow);\n    }\n\n    get global() {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        return O[RealmRecord][GlobalObject];\n    }\n\n    get thisValue() {\n        let O = this;\n        if (typeof O !== 'object') throw new TypeError();\n        if (!(RealmRecord in O)) throw new TypeError();\n        let envRec = O[RealmRecord][GlobalEnv];\n        return envRec[GlobalThisValue];\n    }\n\n}\n\nRealm.toString = () => 'function Realm() { [shim code] }';"],"names":["assign","Object","create","defineProperties","getOwnPropertyNames","defineProperty","Reflect","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","setPrototypeOf","repairAccessors","objProto","prop","func","base","desc","get","set","ignore","sanitize","sandbox","confinedWindow","prototype","isInternalEvaluation","setInternalEvaluation","resetInternalEvaluation","proxyHandler","propName","eval","globalObject","newValue","descriptor","ReferenceError","HookFnName","addLexicalScopesToSource","sourceText","replace","evalAndReturn","iframeDocument","iframeBody","body","script","createElement","type","undefined","appendChild","createTextNode","removeChild","result","evaluate","fn","apply","thisValue","globalProxy","getEvalEvaluator","o","Function","toString","getFunctionEvaluator","f","args","pop","fnArgs","join","constructor","getEvaluators","createIframe","el","document","style","display","title","setAttribute","createSandbox","iframe","contentDocument","contentWindow","Proxy","setSandboxGlobalObject","getIntrinsics","global","SymbolIterator","_typeof","Symbol","iterator","ArrayIteratorObject","Array","ArrayIteratorPrototype","IteratorPrototype","AsyncFunctionObject","AsyncFunction","AsyncFunctionPrototype","GeneratorFunctionObject","GeneratorFunction","Generator","GeneratorPrototype","AsyncGeneratorFunctionObject","AsyncGeneratorFunction","AsyncGenerator","AsyncGeneratorPrototype","AsyncFromSyncIteratorPrototype","AsyncIteratorPrototype","MapIteratorObject","Map","MapIteratorPrototype","SetIteratorObject","Set","SetIteratorPrototype","StringIteratorObject","String","StringIteratorPrototype","ThrowTypeError","TypedArray","Int8Array","TypedArrayPrototype","ArrayBuffer","entries","forEach","values","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","Error","EvalError","Float32Array","Float64Array","Int16Array","Int32Array","isFinite","isNaN","JSON","parse","Math","Number","valueOf","parseFloat","parseInt","Promise","all","reject","resolve","then","RangeError","RegExp","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","escape","unescape","getStdLib","intrinsics","value","Infinity","NaN","assert","condition","IsCallable","obj","RealmRecord","Intrinsics","GlobalObject","GlobalThisValue","GlobalEnv","EvalHook","IsDirectEvalHook","ImportHook","ImportMetaHook","ShimSandbox","getSandbox","realmRec","getCurrentRealmRecord","window","NewGlobalEnvironment","G","EnvironmentRecord","SetRealmGlobalObject","globalObj","newGlobalEnv","SetDefaultGlobalBindings","GlobalObjectDescriptors","CreateIntrinsics","CreateRealmRec","InvokeDirectEvalHook","x","call","PerformEval","evalRealm","strictCaller","direct","Realm","options","O","parentRealm","opts","importHook","importMetaHook","evalHook","isDirectEvalHook","init","envRec"],"mappings":"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"}